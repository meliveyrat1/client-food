{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  //CREADA PARA LAS DIETAS --> ALL\n  diets: [],\n  detail: [],\n  error: \"\"\n};\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"GET_RECIPES\":\n      return {\n        ...state,\n        recipes: action.payload,\n        allRecipes: action.payload,\n        error: \"\",\n        detail: []\n      };\n    case \"GET_RECIPES_BY_NAME\":\n      return {\n        ...state,\n        recipes: action.payload,\n        error: \"\"\n      };\n    case \"FILTER_BY_DIETS\":\n      const allRecipes = state.allRecipes;\n      const statusFiltered = action.payload === \"all\" ? allRecipes : allRecipes.filter(e => e.diets.find(e => e.includes(action.payload)));\n      return {\n        ...state,\n        recipes: statusFiltered\n      };\n    case \"FILTER_BY_DISHTYPES\":\n      const allRecipes1 = state.allRecipes;\n      const statusFil = action.paylod === \"All\" ? allRecipes1 : allRecipes1.filter(e => e.dishTypes.find(e => e.includes(action.payload)));\n      return {\n        ...state,\n        recipes: statusFil\n      };\n    case \"GET_DIETS\":\n      return {\n        ...state,\n        diets: action.payload\n      };\n    case \"POST_RECIPE\":\n      return {\n        ...state\n      };\n    case \"ORDER_BY_NAME\":\n      let sorteredArr = action.payload === \"asc\" ? state.recipes.sort(function (a, b) {\n        if (a.title > b.title) {\n          return 1;\n        }\n        if (b.title > a.title) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.title > b.title) {\n          return -1;\n        }\n        if (b.title > a.title) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: sorteredArr\n      };\n    case \"ORDER_BY_SCORE\":\n      let sorteredByScore = action.payload === \"high\" ? state.recipes.sort(function (a, b) {\n        if (b.healthScore > a.healthScore) {\n          return 1;\n        }\n        if (a.healthScore > b.healthScore) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (b.healthScore > a.healthScore) {\n          return -1;\n        }\n        if (a.healthScore > b.healthScore) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: sorteredByScore\n      };\n    case \"ORDER_BY_LIKE\":\n      let sorteredByLike = action.payload === \"High\"\n      /*  ? state.recipes.sort(function (a, b ) {\n           return b.aggregateLikes - a.aggregateLikes;\n         })\n       : state.recipes.sort(function (a, b) {\n           return a.aggregateLikes - b.aggregateLikes;\n         });  */ ? state.recipes.sort(function (a, b) {\n        if (b.aggregateLikes > a.aggregateLikes) {\n          return 1;\n        }\n        if (a.aggregateLikes > b.aggregateLikes) {\n          return -1;\n        }\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (b.aggregateLikes > a.aggregateLikes) {\n          return -1;\n        }\n        if (a.aggregateLikes > b.aggregateLikes) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        recipes: sorteredByLike\n      };\n    case \"GET_DETAILS\":\n      console.log(\"actionn\", action.payload);\n      return {\n        ...state,\n        detail: action.payload\n      };\n    case \"REMOVE_DETAILS\":\n      return {\n        ...state,\n        detail: []\n      };\n    case \"ERROR\":\n      return {\n        ...state,\n        error: action.payload\n      };\n    case \"FILTER_CREATED\":\n      const recipeFilter = action.payload === \"created\" ? state.allRecipes.filter(recip => recip.createdInDb) : state.allRecipes.filter(recip => !recip.createdInDb);\n      return {\n        ...state,\n        recipes: action.payload === \"All\" ? state.allRecipes : recipeFilter\n      };\n    case \"REMOVE_RECIPE\":\n      console.log(action.payload);\n      return {\n        ...state,\n        /*   allRecipes: [],\n         recipes: [], */\n        recipes: state.recipes.filter(e => e.id !== action.payload)\n      };\n    default:\n      return state;\n    //InitialState\n  }\n}\n\nexport default rootReducer;\n\n/*   case \"GET_NAMES_RECIPES\":\n      return {\n      ...state,\n      namesRecipes: action.payload\n    } */\n\n/*     case \"FILTER_BY_NAMES\":\n   const allNames = state.allRecipes;//ALLRECIPES RETURN RECIPES\n   const filterByNames =   action.payload === 'all' ? allNames :  \n   allNames.filter(r => r.title?.find((e)=> e.title === action.payload || e === action.payload)) \n   return {\n     ...state,\n   recipes: filterByNames\n   } \n    */\n\n/*   case 'UPDATE_RECIPE':\n       return {\n         ...state,\n     }\n      */\n\n/*   case \"REMOVE_RECIPE\":\n    return {\n      ...state,\n      allRecipes: [],\n      recipes: [],\n    }; */","map":{"version":3,"names":["initialState","recipes","allRecipes","diets","detail","error","rootReducer","state","action","type","payload","statusFiltered","filter","e","find","includes","allRecipes1","statusFil","paylod","dishTypes","sorteredArr","sort","a","b","title","sorteredByScore","healthScore","sorteredByLike","aggregateLikes","console","log","recipeFilter","recip","createdInDb","id"],"sources":["C:/Users/aleto/Desktop/PI--FOOD-main meli 3/client/src/reducer/index.js"],"sourcesContent":["const initialState = {\n  recipes: [],\n  allRecipes: [], //CREADA PARA LAS DIETAS --> ALL\n  diets: [],\n  detail: [],\n  error: \"\",\n};\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"GET_RECIPES\":\n      return {\n        ...state,\n        recipes: action.payload,\n        allRecipes: action.payload,\n        error: \"\",\n        detail: [],\n      };\n\n    case \"GET_RECIPES_BY_NAME\":\n      return {\n        ...state,\n        recipes: action.payload,\n        error: \"\",\n      };\n    case \"FILTER_BY_DIETS\":\n      const allRecipes = state.allRecipes;\n      const statusFiltered =\n        action.payload === \"all\"\n          ? allRecipes\n          : allRecipes.filter((e) =>\n              e.diets.find((e) => e.includes(action.payload))\n            );\n      return {\n        ...state,\n        recipes: statusFiltered,\n      };\n  \n\n    case \"FILTER_BY_DISHTYPES\":\n      const allRecipes1 = state.allRecipes;\n      const statusFil =\n        action.paylod === \"All\"\n          ? allRecipes1\n          : allRecipes1.filter((e) =>\n              e.dishTypes.find((e) => e.includes(action.payload))\n            );\n      return {\n        ...state,\n        recipes: statusFil,\n      };\n\n    case \"GET_DIETS\":\n      return {\n        ...state,\n        diets: action.payload,\n      };\n\n    case \"POST_RECIPE\":\n      return {\n        ...state,\n      };\n\n    case \"ORDER_BY_NAME\":\n      let sorteredArr =\n        action.payload === \"asc\"\n          ? state.recipes.sort(function (a, b) {\n              if (a.title > b.title) {\n                return 1;\n              }\n              if (b.title > a.title) {\n                return -1;\n              }\n              return 0;\n            })\n          : state.recipes.sort(function (a, b) {\n              if (a.title > b.title) {\n                return -1;\n              }\n              if (b.title > a.title) {\n                return 1;\n              }\n              return 0;\n            });\n      return {\n        ...state,\n        recipes: sorteredArr,\n      };\n\n    case \"ORDER_BY_SCORE\":\n      let sorteredByScore =\n        action.payload === \"high\"\n            ? state.recipes.sort(function (a, b) {\n              if (b.healthScore > a.healthScore) {\n                return 1;\n              }\n              if (a.healthScore > b.healthScore) {\n                return -1;\n              }\n              return 0;\n            })\n          : state.recipes.sort(function (a, b) {\n              if (b.healthScore > a.healthScore) {\n                return -1;\n              }\n              if (a.healthScore > b.healthScore) {\n                return 1;\n              }\n              return 0;\n            });\n      return {\n        ...state,\n        recipes: sorteredByScore,\n      };\n\n    case \"ORDER_BY_LIKE\":\n      let sorteredByLike =\n        action.payload === \"High\"\n         /*  ? state.recipes.sort(function (a, b ) {\n              return b.aggregateLikes - a.aggregateLikes;\n            })\n          : state.recipes.sort(function (a, b) {\n              return a.aggregateLikes - b.aggregateLikes;\n            });  */\n             ? state.recipes.sort(function (a, b) {\n              if (b.aggregateLikes > a.aggregateLikes) {\n                return 1;\n              }\n              if (a.aggregateLikes > b.aggregateLikes) {\n                return -1;\n              }\n              return 0;\n            })\n          : state.recipes.sort(function (a, b) {\n              if (b.aggregateLikes > a.aggregateLikes) {\n                return -1;\n              }\n              if (a.aggregateLikes > b.aggregateLikes) {\n                return 1;\n              }\n              return 0;\n            }); \n      return {\n        ...state,\n        recipes: sorteredByLike,\n      };\n    case \"GET_DETAILS\":\n      console.log(\"actionn\", action.payload);\n      return {\n        ...state,\n        detail: action.payload,\n      };\n    case \"REMOVE_DETAILS\":\n      return {\n        ...state,\n        detail: [],\n      };\n    case \"ERROR\":\n      return {\n        ...state,\n        error: action.payload,\n      };\n\n     case \"FILTER_CREATED\":\n     const recipeFilter= action.payload === \"created\" ? state.allRecipes.filter(recip => recip.createdInDb) : state.allRecipes.filter(recip => !recip.createdInDb)\n      return {\n      ...state,\n      recipes: action.payload === \"All\" ? state.allRecipes : recipeFilter\n    };\n\n    case \"REMOVE_RECIPE\":\n      console.log(action.payload)\n      return {\n        ...state,\n       /*   allRecipes: [],\n        recipes: [], */ \n        recipes: state.recipes.filter(e => e.id !== action.payload)\n      };  \n\n    default:\n      return state; //InitialState\n  }\n}\n\nexport default rootReducer;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*   case \"GET_NAMES_RECIPES\":\n        return {\n        ...state,\n        namesRecipes: action.payload\n      } */\n       \n   /*     case \"FILTER_BY_NAMES\":\n      const allNames = state.allRecipes;//ALLRECIPES RETURN RECIPES\n      const filterByNames =   action.payload === 'all' ? allNames :  \n      allNames.filter(r => r.title?.find((e)=> e.title === action.payload || e === action.payload)) \n      return {\n        ...state,\n      recipes: filterByNames\n      } \n       */\n\n /*   case 'UPDATE_RECIPE':\n        return {\n          ...state,\n      }\n       */\n\n  /*   case \"REMOVE_RECIPE\":\n      return {\n        ...state,\n        allRecipes: [],\n        recipes: [],\n      }; */"],"mappings":"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"},"metadata":{},"sourceType":"module"}